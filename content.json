[{"title":"数据库原理复习（考前救急专用）","date":"2021-12-25T06:30:06.000Z","path":"2021/12/25/db_review/","text":"Chapter 1 数据库系统引论简介主要参考的是王能斌老师编写的《数据库系统教程》第二版上册，每个标题旁边是对应书上的页码。 可恶啊，这学期数据库没怎么听课，还有三天就期末考了，我能补回来吗？ 数据库基本概念 P2-5数据库：A very large, integrated collection of data. DBMS：A software package designed to store and manage databases. 文件系统vs数据库 应用程序需要在主存和外存中存储大量数据 对不同的查询有专属的代码 确保数据不会因为多并发用户而产生不一致性 对于崩溃的恢复 安全和访问的控制 数据库系统特点：P6-7 数据库三级模式与两级数据独立性 P 7-9 数据(Data)：对事物描述的符号记录 数据模型(Data Model)：用来描述数据的一组概念和定义 数据模式(Data Schema)：对某一类数据的结构、联系和约束的描述 应用程序应该独立于数据是如何组织和存储的 逻辑独立性：Protection from changes in logical structure of data. 物理独立性：Protection from changes in physical structure of data. 数据库系统的组成与生命期 P10 组成 生命周期 数据库系统规划 数据库设计 数据库建立 数据库运行、管理和维护 数据库的扩充和重构 Chapter 2 数据模型层次数据模型 P12-17 Basic idea: 记录（record）和字段（field） Parent-Child relationship 虚拟记录 大量指针增加数据库开销，数据模式不够清晰、直观 网状数据模型 P17-21 Basic idea: 记录和数据项（data items） 系（set） 关系数据模型（重划点）P21-25 基本数据结构：表（或者说是一种关系），可以用严格的数学方法来研究。 软连接： 关系 相当于一个表（table），包含多个元组 关系R的schema：$R=(A_{1}, A_{2},…,A_{n})$，其中A是属性名，n为关系的目（degree）。 键 候选键（candidate key）可以由一个或多个属性构成，简称键。 至少一个候选键，选择一个作为主键（primarykey），其他候选键为补键（alternate key） 超键（super key），至少包含一个键的属性组（{学号、出生年月}） 全键（all key），主键由所有属性构成 主属性和非主属性 外键（foreign key），一个逻辑指针，指向另一个表中的元组 完整性约束：语意施加在数据上的限制（只有在数据库更新是检查完整性约束） 域完整性约束：在域中 实体完整性约束：有不为空的主键 引用完整性约束：对应外键的元组相等或不存在 一般性完整性约束：所有约束 关系代数（Realtional Algebra）P25-29 选择操作（selection）：选取某些行 投影操作（projection）：选取某些列（产生重复元组） 集合操作（cross-product）：并、差、交（要满足并兼容，目、域都相同） 笛卡尔乘积（不必并兼容）：所有元组各种可能的组合 连接操作（join operation）：只连接满足条件的，没有条件的话就是笛卡尔 除操作（division）： 外连接（outer join）：左，右，全 外并（outer union）：不用并兼容，无属性的话补NULL 关系演算（Relational Calculus）P29-30 元组关系演算（Tuple Relational Calculus） 域关系演算（Domain Relational Calculus） 传统数据模型评价 P30-33 层次、网状、关系数据模型都是传统数据模型 适用于OLTP(On-Line Transaction Processing) 以记录为基础，不能更好的面向用户和应用 不能用一种很自然的模式表达实体之间的关系 缺少语义信息 数据类型少，很难满足应用的需求 ER数据模型和面向对象数据模型 P33-44 ER实体：现实世界中可以和其他物体区分的物体，用一组属性来描述 实体集（Entity Set）：相似实体的集合（例子：所有员工） ER图P37-39 弱实体（不能单独存在） 特殊化和普遍化 聚集 范畴 （这部分应该不会考很多吧，我就先不看了） 今天又摸了半天鱼，晚安 Chapter 3 数据库语言SQLSQL简介 P56-57 Structured Query Language(or Standard Query Language) 一种非过程语言，用户不需要说明如何获取数据，而只用说需要什么数据 四个功能 用来定义、删除或者改变数据模式（Data Definition Language） 用来取数据（Query language）本章重点 用来插入、删除或者更新数据（Data Manipulation Language）本章重点 用来控制用户访问数据的权限（Data Control Language） 基本概念 基表：数据显示地存在数据库中 视图：虚表 查询语句基本结构 P62-63 123SELECT [DISTINCT] target-list //DISTINCT，消除重复元组FROM relation-list //关系列表WHERE qualification //条件 执行顺序： FROM WHERE GROUP BY HAVING SELECT ORDER BY（重要！） ## 简单查询语句 P63-64 后面的例子需要用到的表 范围变量（Range Variables）AS 就是给FROM后的表取别名 12345678910//正常写法SELECT snameFROM Sailors, ReservesWHERE Sailors.sid=Reserves.sid AND bid=103//取别名SELECT S.snameFROM Sailors S, Reserves RWHERE S.sid=R.sid AND bid=103 使用表达式 = AS LIKE 123SELECT S.age, age1=S.age-5, 2*S.age AS age2 //AS和’=‘一样，FROM Sailors S WHERE S.sname LIKE ‘B_%B’ //&#x27;_&#x27;表示任意一个字符，&#x27;%&#x27;表示零个及以上个任意字符 基于集合操作的查询语句 P69 用集合的并集和交集 UNION 相当于OR 123456789101112//找出预定过红船或绿船的水手SELECT S.sidFROM Sailors S, Boats B, Reserves R WHERE S.sid=R.sid AND R.bid=B.bid AND B.color=‘red’UNIONSELECT S.sidFROM Sailors S, Boats B, Reserves R WHERE S.sid=R.sid AND R.bid=B.bid AND B.color=‘green’SELECT S.sidFROM Sailors S,Boats B,Reserves R WHERE S.sid=R.sid AND R.bid=B.bid AND (B.color=‘red’ OR B.color=‘green’) INTERSECT 相当于 AND 12345678910111213//找出同时预定红船和绿船的水手SELECT S.sidFROM Sailors S, Boats B, Reserves R WHERE S.sid=R.sid AND R.bid=B.bid AND B.color=‘red’INTERSECTSELECT S.sidFROM Sailors S, Boats B, Reserves R WHERE S.sid=R.sid AND R.bid=B.bidAND B.color=‘green’SELECT S.sidFROM Sailors S, Boats B1, Reserves R1, Boats B2, Reserves R2WHERE S.sid=R1.sid AND R1.bid=B1.bid AND S.sid=R2.sid AND R2.bid=B2.bid AND (B1.color=‘red’ ANDB2.color=‘green’) ## 基于嵌套子查询的查询语句 P66-67 Nested Queries 就是在FROM WHERE SELECT 中也可以用sql查询 IN NOT IN 1234567891011121314151617181920212223242526272829303132//查找预定过103号船的水手，如果用`NOT IN`就表示没预定过103SELECT S.snameFROM SailorsSWHERE S.sid IN (SELECT R.sid //意思是这个值在选出来的表中 FROM ReservesR WHERE R.bid=103) // `(NOT)IN` 也可以用 `(NOT)EXISTS`代替，写法略有不同SELECT S.snameFROM Sailors SWHERE EXISTS (SELECT * //意思应该是存在这样的元组 FROM ReservesR WHERE R.bid=103 AND S.sid=R.sid) //如果要查找只预定过一次103这艘船的水手名字呢？SELECT S.snameFROM Sailors SWHERE EXISTS (SELECT * FROM Reserves R WHERE R.bid=103 AND S.sid=R.sid) NOT EXISTS (SELECT * FROM Reserves R1, Reserves R2) WHERE ... AND R1.day != R2.day //查找只被一个水手预定过的船的bidSELECT bid FROM Reserves R1WHERE bid NOT IN (SELECT bid //被其他水手订过的船的bid FROM Reserves R2 WHERE R2.sid ¬= R1.sid) op ANY op ALL 123456//找到一个水手比至少一个叫Horatio的水手评分高的（只要比一个高就行）SELECT *FROM SailorsSWHERE S.rating&gt;ANY (SELECT S2.rating FROM SailorsS2 WHERE S2.sname=‘Horatio’) 除法与聚集函数计算 P66 Division 12345678//查找那些预定过所有船的水手SELECT S.sname FROM Sailors S WHERE NOT EXISTS //不存在没有预定的船 ((SELECT B.bid FROM Boats B) EXCEPT //排除那些已经有人预定过的船的bid (SELECT R.bid FROM Reserves R WHERE R.sid=S.sid)) Aggregate Operators COUNTS(*)：统计找到的元组总数 COUNT([DISTINCT] A)：返回不重复的属性A的值有多少个 SUM([DISTINCT] A)：返回不重复的属性A的值总和 AVG([DISTINCT] A)：返回不重复的属性A的值平均值 MAX(A)：属性A所有值中的最大值 MIN(A)：属性A所有值中的最小值 12345678910111213141516171819SELECT COUNT (*) //所有的元组FROM SailorsSSELECT AVG (S.age) //评分为10的水手平均年龄FROM SailorsSWHERE S.rating=10SELECT COUNT (DISTINCT S.rating) //叫Bob的有多少种评分FROM SailorsSWHERE S.sname=‘Bob’SELECT AVG (DISTINCT S.age) //评分为10的有几种年龄FROM SailorsS WHERE S.rating=10 SELECT S.sname //评分最高的水手名字FROM SailorsSWHERE S.rating= (SELECT MAX(S2.rating) FROM SailorsS2) 分组聚集函数计算 P68-69 为什么分组 例子：要找到每种评分中最年轻的水手（不知道有几种评分） GROUP BY HAVING 通常会和聚集函数一起用 按列的值分组，一样的分在一组 12345SELECT [DISTINCT] target-list FROM relation-listWHERE qualificationGROUP BY grouping-listHAVING group-qualification //属性必须是grouping-list的子集，不然语法报错 例子： 123456789101112//找到年龄大于18的最年轻水手的年纪，并且这个水手的评分必须至少还有一人和他一样SELECT S.rating, MIN (S.age) AS minage //SELECT最后执行FROM SailorsS WHERE S.age &gt;= 18 GROUP BY S.rating HAVING COUNT (*) &gt; 1 //HAVING COUNT (*) &gt; 1 AND EVERY (S.age &lt;=60)表示组内水手必须满足所有人年龄小于60//找到每艘红船的预定数量SELECT B.bid, COUNT (*) AS scount //3. 再统计每组的数量FROM Boats B,Reserves RWHERE R.bid=B.bid AND B.color=‘red’ //1. 先找到红船GROUP BY B.bid //2.然后分组 聚集函数不能嵌套使用 例子 12345678910111213//找到平均年龄最小的评分SELECT S.ratingFROM Sailors SWHERE S.age = (SELECT MIN (AVG (S2.age)) //错误！！！FROM Sailors S2)//改正SELECT Temp.ratingFROM (SELECT S.rating, AVG (S.age) AS avgage //2.再取每个组内的平均值 FROM SailorsS GROUP BY S.rating) AS Temp //1.先按评分分组WHERE Temp.avgage = (SELECT MIN (Temp.avgage) //3.取平均值值最小的 FROM Temp) ## CAST与CASE表达式 fuck 今天是一点不想复习啊 ​ 24 标量子查询​ 25 表表达式与公共表表达式​ 26 递归子查询一​ 27 递归子查询二​ 28 数据操纵语言​ 29 关于视图​ 30 嵌入式SQL​ 31 使用游标处理查询结果​ 32 动态SQL与存储过程 Chapter 4 数据库管理系统33 DBMS核心的模块结构34 DBMS进程结构35 数据库访问管理-文件组织36 数据库访问管理-索引技术37 查询优化概述38 代数优化39 操作优化40 连接操作实现算法41 恢复机制概述42 事务与日志43 更新策略及故障后的恢复44 并发控制概述45 可串行化46 封锁法及其锁协议47 死锁与活锁48 死锁检测与死锁预防 Chapter 5 数据库的安全与完整性约束49 概述50 统计数据库的安全51 完整性约束52 数据库的更新与引用完整性53 触发器54 触发器的应用 Chapter 6 数据库设计​ 55 数据依赖​ 56 关系模式的规范化​ 57 数据库设计方法​ 58 数据库设计流程​ 59 各阶段主要工作​ 60 案例分析一​ 61 案例分析二 Chapter 7 分布式数据库系统​ 62 概述​ 63 需要解决的主要问题​ 64 数据分布​ 65 联邦式数据库系统​ 66 查询优化、恢复与并发控制 Chapter 8 数据库新技术及其应用​ 67 数据仓库概述​ 68 OLTP与OLAP​ 69 星型模式与雪花模式​ 70 实视图​ 71 数据立方与OLAP操作​ 72 数据挖掘简介"},{"title":"读书(随缘)打卡贴","date":"2021-03-05T12:47:43.000Z","path":"2021/03/05/reading_record/","text":"最近感觉得看点 技术书 书了，那就从这本 OSC 开始吧，正好最近也在上操作系统，但愿我能坚持看下去（至少看完大部分吧 2021 3.5OSC 1.1&amp;1.2 打卡 3.10OSC 1.3-1.8 打卡 感觉看英文书好难抓住重点啊 4.2OSC 3.1-3.3 打卡 4.13啊啊啊啊啊啊啊 4.25OSC 3.4-3.7 4.26OSC 4.1-4.8 5.1-5.4 4.276.1-6.8 8.13osc 当时看到了十四章就没往后看了，其实也都是大概浏览一遍（应付考试） 最近在看《硅谷之火》，讲的是个人计算机发展史（一群人在车库里改变世界的故事），据说雷军就是看了这本之后有了创业的想法。"},{"title":"日常记录贴","date":"2021-03-04T04:59:33.000Z","path":"2021/03/04/daily_record/","text":"20213.4啦啦啦 这个牙膏好好看诶 刷完牙齿上还会有小爱心💗 3.5 课好多啊啊啊啊啊啊。 3.6不可能永远都做对的，但要保持反思。 新头像☑️ 这不就是我吗？笑死我了 SHOW ME WHAT YOU CAUGHT #rickandmorty 周日上一下午的课也太困了吧🥱 3.9下午在床上看个剧，暗黑太绝了 3.10Insta360 GO2 种草了种草了 3.20今天突发奇想租了辆车 跨过长江去找了雅马哈 然后去了红山森林动物园（一家没有动物表演的动物园） 以后去市区绝不开车，停车场找了半个小时 （金鸭独立 然后晚上去了南京眼 3.28最近感觉一下子多了好多事啊 不过这个周末超开心的，有个sg来南京找我 又去了趟红山动物园和南京眼，还去看了长江 4.2明天回家咯！ 4.7写作业写作业写作业！ 敲代码敲代码敲代码！ never tmr！ 4.13感觉今年的春天是一夜之间突然发生的。 4.22才发现我已经连续上了17天课了，很好，坚持到12周，每个礼拜就可以休息一天啦（指周三）。 这周老师突然又加了个数电实验，写了十几页 预 习 报告，面包板是这样的⬇️ 5.5这三天去了扬州玩，吃了好多好多好多包子。 5.6 8.13感觉这段时间的自己确实有点问题，整天胡思乱想些有的没的，经历了太多魔幻的事情，有那么一丢丢麻木。但是我还是好想回家啊，都八月了，别人暑假都快结束了，我的暑假还没开始就结束了，直接变成大三了。 12.25这学期和上课沾边的事是一点没干，不过学了很多（？） 临近期末才发觉课业拉下太多，这几天努努力（叹气）"},{"title":"Cinema4D初体验","date":"2021-02-09T16:14:15.000Z","path":"2021/02/10/c4d_blog/","text":"​ ​ 最近在做一个unity的VR项目，需要一些3D模型，所以高中玩过三年3D打印的我自然是想着自己做啦（自信），其实是因为网上能找的好看的素材都太贵了… 以前有用过3D建模的软件，用的是Autodesk的inventor，是比较容易上手的，当初其实也就学了个皮毛，会做一点简单的3D的模型；最近正好手头项目有这个需求，又有一个朋友找我做一个模型，加上前段时间又萌生了自己捣鼓一台3D打印机的想法，又看到好多人都用c4d做出了超级好看的模型，于是乎，想先学学看这个。 ​ 虽然说以前会一点3D建模，但感觉这个软件还是得从零开始，前几天B站给我推了一个c4d的教程，看了之后发现还不错，【Mo公开课】C4D基础课! 这是链接🔗，感觉是很良心的一份视频教程了，打算寒假里有时间就看一点学一点，开学之后也可能无限期拖下去（拖延症+懒癌晚期）。 2021 2.9​ 我在三天前下好了c4d r23, 这几天囫囵吞枣地把教程前六集看了，主要想先把盆友的模型先搞定了。 ​ 教程前几天除了介绍之外，教了一些最基本的操作，最后做了一个小桌子。感觉c4d的操作逻辑还是挺好理解的，据网上说是最容易上手的3D建模软件，用起来感觉好像也比之前高中用的inventor更加顺手一点。 ​ ​ 然后就是帮朋友完成她的工程力学小模型 ​ ​ 今天又偶然看到一个油管上的c4d大佬，( / ) C4D TUTORIAL | Infinite Blooming Flower! 这个视频讲的是怎么做一朵无限生长的花，感觉还挺有意思，明天做做看。 晚安 💤 :p 2.13过年宜咕咕咕🐦 新年快乐 3.32月的后半个月过的可太开心了。前几天回学校了，终于有点心思开始做了，其实这朵花之前稍微做了一点，现在又把它稍微完善了一下。 尽管是照着做的，很多操作也没怎么搞懂，但起码还是学到挺多东西，比如动画、材质什么的。 ​"},{"title":"Hello World","date":"2021-01-28T11:43:25.000Z","path":"2021/01/28/My-First-Blog/","text":"跟着教程把这个博客搭了起来，用的是hexo，部署在github上，花八块钱注册了个域名，起飞！ 日后再慢慢完善这个博客吧 先睡了 2021/1/30 0:15"}]